import{r as x,m as w,M as P,a2 as F,n as Y,a1 as K,aL as J,x as ee,aM as te,aN as ae,aO as ne,aP as oe,aK as le,B as ie,az as ue,G as re,aQ as se,K as z,t as A,aR as ce,aw as ve,aS as de,aB as me,l as fe,aT as he,a0 as ge,aU as we,aV as ye,y as be,aW as pe,b as s,T as _e,aE as Se,R as ke,aa as Ee,ac as Te,aX as Me,aY as xe,o as Be,c as Ce,w as L,aZ as Ve,$,e as Re,a_ as Le}from"./index.73161316.js";import{V as U,a as H}from"./VList.7b0c0769.js";function He(e){let{rootEl:r,isSticky:c,layoutItemStyles:a}=e;const n=x(!1),t=x(0),d=w(()=>{const g=typeof n.value=="boolean"?"top":n.value;return[c.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[g]:P(t.value)}:{top:a.value.top}]});F(()=>{Y(c,g=>{g?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),K(()=>{document.removeEventListener("scroll",S)});let h=0;function S(){var E;const g=h>window.scrollY?"up":"down",l=r.value.getBoundingClientRect(),f=parseFloat((E=a.value.top)!=null?E:0),m=window.scrollY-Math.max(0,t.value-f),i=l.height+Math.max(t.value,f)-window.scrollY-window.innerHeight;l.height<window.innerHeight-f?(n.value="top",t.value=f):g==="up"&&n.value==="bottom"||g==="down"&&n.value==="top"?(t.value=window.scrollY+l.top,n.value=!0):g==="down"&&i<=0?(t.value=0,n.value="bottom"):g==="up"&&m<=0&&(t.value=l.top+m,n.value="top"),h=window.scrollY}return{isStuck:n,stickyStyles:d}}const Pe=100,Ye=20;function Z(e){const r=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*r}function q(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let c=e.length-1;c>0;c--){if(e[c].t===e[c-1].t)continue;const a=Z(r),n=(e[c].d-e[c-1].d)/(e[c].t-e[c-1].t);r+=(n-a)*Math.abs(n),c===e.length-1&&(r*=.5)}return Z(r)*1e3}function $e(){const e={};function r(n){Array.from(n.changedTouches).forEach(t=>{var h;((h=e[t.identifier])!=null?h:e[t.identifier]=new J(Ye)).push([n.timeStamp,t])})}function c(n){Array.from(n.changedTouches).forEach(t=>{delete e[t.identifier]})}function a(n){var t;const d=(t=e[n])==null?void 0:t.values().reverse();if(!d)throw new Error(`No samples for touch id ${n}`);const h=d[0],S=[],g=[];for(const l of d){if(h[0]-l[0]>Pe)break;S.push({t:l[0],d:l[1].clientX}),g.push({t:l[0],d:l[1].clientY})}return{x:q(S),y:q(g),get direction(){const{x:l,y:f}=this,[m,i]=[Math.abs(l),Math.abs(f)];return m>i&&l>=0?"right":m>i&&l<=0?"left":i>m&&f>=0?"down":i>m&&f<=0?"up":Ne()}}}return{addMovement:r,endTouch:c,getVelocity:a}}function Ne(){throw new Error}function We(e){let{isActive:r,isTemporary:c,width:a,touchless:n,position:t}=e;F(()=>{window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",p,{passive:!0})}),K(()=>{window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",p)});const d=w(()=>t.value!=="bottom"),{addMovement:h,endTouch:S,getVelocity:g}=$e();let l=!1;const f=x(!1),m=x(0),i=x(0);let E;function B(o,u){return(t.value==="left"?o:t.value==="right"?document.documentElement.clientWidth-o:t.value==="bottom"?document.documentElement.clientHeight-o:V())-(u?a.value:0)}function T(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const v=t.value==="left"?(o-i.value)/a.value:t.value==="right"?(document.documentElement.clientWidth-o-i.value)/a.value:t.value==="bottom"?(document.documentElement.clientHeight-o-i.value)/a.value:V();return u?Math.max(0,Math.min(1,v)):v}function C(o){if(n.value)return;const u=o.changedTouches[0].clientX,v=o.changedTouches[0].clientY,y=25,k=t.value==="left"?u<y:t.value==="right"?u>document.documentElement.clientWidth-y:t.value==="bottom"?v>document.documentElement.clientHeight-y:V(),b=r.value&&(t.value==="left"?u<a.value:t.value==="right"?u>document.documentElement.clientWidth-a.value:t.value==="bottom"?v>document.documentElement.clientHeight-a.value:V());(k||b||r.value&&c.value)&&(l=!0,E=[u,v],i.value=B(d.value?u:v,r.value),m.value=T(d.value?u:v),S(o),h(o))}function M(o){const u=o.changedTouches[0].clientX,v=o.changedTouches[0].clientY;if(l){if(!o.cancelable){l=!1;return}const k=Math.abs(u-E[0]),b=Math.abs(v-E[1]);(d.value?k>b&&k>3:b>k&&b>3)?(f.value=!0,l=!1):(d.value?b:k)>3&&(l=!1)}if(!f.value)return;o.preventDefault(),h(o);const y=T(d.value?u:v,!1);m.value=Math.max(0,Math.min(1,y)),y>1?i.value=B(d.value?u:v,!0):y<0&&(i.value=B(d.value?u:v,!1))}function p(o){if(l=!1,!f.value)return;h(o),f.value=!1;const u=g(o.changedTouches[0].identifier),v=Math.abs(u.x),y=Math.abs(u.y);(d.value?v>y&&v>400:y>v&&y>3)?r.value=u.direction===({left:"right",right:"left",bottom:"up"}[t.value]||V()):r.value=m.value>.5}const R=w(()=>f.value?{transform:t.value==="left"?`translateX(calc(-100% + ${m.value*a.value}px))`:t.value==="right"?`translateX(calc(100% - ${m.value*a.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${m.value*a.value}px))`:V(),transition:"none"}:void 0);return{isDragging:f,dragProgress:m,dragStyles:R}}function V(){throw new Error}const Ie=["start","end","left","right","bottom"],De=ee({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ie.includes(e)},sticky:Boolean,...te(),...ae(),...ne(),...oe(),...le({tag:"nav"}),...ie()},emits:{"update:modelValue":e=>!0},setup(e,r){let{attrs:c,slots:a}=r;const{isRtl:n}=ue(),{themeClasses:t}=re(e),{borderClasses:d}=se(e),{backgroundColorClasses:h,backgroundColorStyles:S}=z(A(e,"color")),{elevationClasses:g}=ce(e),{mobile:l}=ve(),{roundedClasses:f}=de(e),m=me(),i=fe(e,"modelValue",null,_=>!!_),{ssrBootStyles:E}=he(),B=x(),T=x(!1),C=w(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),M=w(()=>pe(e.location,n.value)),p=w(()=>!e.permanent&&(l.value||e.temporary)),R=w(()=>e.sticky&&!p.value&&M.value!=="bottom");e.disableResizeWatcher||Y(p,_=>!e.permanent&&Ee(()=>i.value=!_)),!e.disableRouteWatcher&&m&&Y(m.currentRoute,()=>p.value&&(i.value=!1)),Y(()=>e.permanent,_=>{_&&(i.value=!0)}),ge(()=>{e.modelValue!=null||p.value||(i.value=e.permanent||!l.value)});const{isDragging:o,dragProgress:u,dragStyles:v}=We({isActive:i,isTemporary:p,width:C,touchless:A(e,"touchless"),position:M}),y=w(()=>{const _=p.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):C.value;return o.value?_*u.value:_}),{layoutItemStyles:k,layoutRect:b,layoutItemScrimStyles:N}=we({id:e.name,order:w(()=>parseInt(e.order,10)),position:M,layoutSize:y,elementSize:C,active:w(()=>i.value||o.value),disableTransitions:w(()=>o.value),absolute:w(()=>e.absolute||R.value&&typeof W.value!="string")}),{isStuck:W,stickyStyles:G}=He({rootEl:B,isSticky:R,layoutItemStyles:k}),I=z(w(()=>typeof e.scrim=="string"?e.scrim:null)),Q=w(()=>({...o.value?{opacity:u.value*.2,transition:"none"}:void 0,...b.value?{left:P(b.value.left),right:P(b.value.right),top:P(b.value.top),bottom:P(b.value.bottom)}:void 0,...N.value}));return ye({VList:{bgColor:"transparent"}}),be(()=>{var _,D,O,X;const j=a.image||e.image;return s(ke,null,[s(e.tag,_e({ref:B,onMouseenter:()=>T.value=!0,onMouseleave:()=>T.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${M.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":p.value,"v-navigation-drawer--active":i.value,"v-navigation-drawer--sticky":R.value},t.value,h.value,d.value,g.value,f.value],style:[S.value,k.value,v.value,E.value,G.value]},c),{default:()=>[j&&s("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(_=a.image)==null?void 0:_.call(a,{image:e.image}):s("img",{src:e.image,alt:""},null)]),a.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(D=a.prepend)==null?void 0:D.call(a)]),s("div",{class:"v-navigation-drawer__content"},[(O=a.default)==null?void 0:O.call(a)]),a.append&&s("div",{class:"v-navigation-drawer__append"},[(X=a.append)==null?void 0:X.call(a)])]}),s(Se,{name:"fade-transition"},{default:()=>[p.value&&(o.value||i.value)&&!!e.scrim&&s("div",{class:["v-navigation-drawer__scrim",I.backgroundColorClasses.value],style:[Q.value,I.backgroundColorStyles.value],onClick:()=>i.value=!1},null)]})])}),{isStuck:W}}}),Oe={id:"admin-controler"},Ae={__name:"AdminLayout",setup(e){const r=Te(),{avatar:c,account:a}=Me(r),{logout:n}=r;return(t,d)=>{const h=xe("router-view");return Be(),Ce("div",Oe,[s(De,{permanent:""},{default:L(()=>[s(U,null,{default:L(()=>[s(H,{"prepend-avatar":$(c),title:$(a)},null,8,["prepend-avatar","title"])]),_:1}),s(Re),s(U,null,{default:L(()=>[s(H,{to:"/admin/products",title:"\u5546\u54C1\u7BA1\u7406","prepend-icon":"mdi-shopping"}),s(H,{to:"/admin/orders",title:"\u8A02\u55AE\u7BA1\u7406","prepend-icon":"mdi-format-list-bulleted"}),s(H,{to:"/",title:"\u56DE\u9996\u9801","prepend-icon":"mdi-home"}),s(H,{class:"logout",title:"\u767B\u51FA","prepend-icon":"mdi-logout","mdi-logout":"",onClick:$(n)},null,8,["onClick"])]),_:1})]),_:1}),s(Ve,null,{default:L(()=>[s(Le,null,{default:L(()=>[s(h)]),_:1})]),_:1})])}}};export{Ae as default};
